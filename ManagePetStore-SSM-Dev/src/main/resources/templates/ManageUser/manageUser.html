<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>用户管理</title>
    <link rel="stylesheet" th:href="@{/css/manageUser.css}">
</head>
<body>
    <h2>用户列表</h2>
    <table>
        <tr>
            <th>用户ID</th>
            <th>密码</th>
            <th>邮箱</th>
        </tr>
        <tr th:each="m:${user}" th:data-userid="${m.userId}" class="clickable-row" 
            onmousedown="this.classList.add('clicking')" 
            onmouseup="this.classList.remove('clicking')" 
            onmouseleave="this.classList.remove('clicking')">
            <td th:text="${m.userId}"></td>
            <td th:text="${m.password}"></td>
            <td th:text="${m.userEmail}"></td>
        </tr>
    </table>
    <br/>
    <a href="../manageUser/resetPassword">重置密码</a>
    <a href="/">返回首页</a>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const rows = document.querySelectorAll('.clickable-row');
            rows.forEach(row => {
                row.addEventListener('click', function() {
                    const userId = this.getAttribute('data-userid');
                    window.location.href = '../manageUser/userInfo/seeInfo?userId=' + userId;
                });
            });
        });
    </script>
</body>
</html>